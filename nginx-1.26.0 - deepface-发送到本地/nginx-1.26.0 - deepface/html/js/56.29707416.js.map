{"version":3,"file":"js/56.29707416.js","mappings":"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","sources":["webpack://deepface-front/./src/views/LoginView.vue","webpack://deepface-front/src/views/LoginView.vue","webpack://deepface-front/./src/views/LoginView.vue?cef6","webpack://deepface-front/./src/views/LoginView.vue?eb81"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"loginBody\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-box\",attrs:{\"model\":_vm.loginForm}},[_c('h3',{staticClass:\"login-title\"},[_vm._v(\"欢迎登录\")]),_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\",\"rules\":_vm.rules.username}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\" 请输入账号\"},on:{\"blur\":function($event){return _vm.validate('username')}},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\",\"rules\":_vm.rules.password}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\" 请输入密码\"},on:{\"blur\":function($event){return _vm.validate('password')}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"vCode\",\"rules\":_vm.rules.vCode}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\" 请输入验证码\",\"size\":\"small\"},on:{\"blur\":function($event){return _vm.validate('vCode')}},model:{value:(_vm.loginForm.vCode),callback:function ($$v) {_vm.$set(_vm.loginForm, \"vCode\", $$v)},expression:\"loginForm.vCode\"}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-image',{attrs:{\"src\":_vm.vCodePic,\"fit\":_vm.fit},on:{\"click\":_vm.loadVCode}})],1)],1),_c('br'),_c('br'),_c('el-form-item',[_c('div',{staticClass:\"container\"},[_c('el-button',{staticClass:\"left\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"立即登录\")]),_c('el-button',{staticClass:\"mid\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"忘记密码\")]),_c('el-button',{staticClass:\"right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goRegister()}}},[_vm._v(\"注册账号\")])],1)])],1),_c('div',[_c('el-dialog',{staticClass:\"resetPsw-box\",attrs:{\"title\":\"忘记密码\",\"visible\":_vm.dialogFormVisible,\"modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"resetPswForm\",attrs:{\"model\":_vm.resetPswForm}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\",\"rules\":_vm.rules2.username}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\",\"clearable\":\"\"},on:{\"blur\":function($event){return _vm.validate2('username')}},model:{value:(_vm.resetPswForm.username),callback:function ($$v) {_vm.$set(_vm.resetPswForm, \"username\", $$v)},expression:\"resetPswForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"password\",\"rules\":_vm.rules2.password}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},on:{\"blur\":function($event){return _vm.validate2('password')}},model:{value:(_vm.resetPswForm.password),callback:function ($$v) {_vm.$set(_vm.resetPswForm, \"password\", $$v)},expression:\"resetPswForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPsw\",\"rules\":_vm.rules2.checkPsw}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},on:{\"blur\":function($event){return _vm.validate2('checkPsw')}},model:{value:(_vm.resetPswForm.checkPsw),callback:function ($$v) {_vm.$set(_vm.resetPswForm, \"checkPsw\", $$v)},expression:\"resetPswForm.checkPsw\"}})],1),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"vCode\",\"rules\":_vm.rules2.vCode}},[_c('br'),_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\" 请输入邮箱验证码\",\"size\":\"small\"},on:{\"blur\":function($event){return _vm.validate2('vCode')}},model:{value:(_vm.resetPswForm.vCodeMail),callback:function ($$v) {_vm.$set(_vm.resetPswForm, \"vCodeMail\", $$v)},expression:\"resetPswForm.vCodeMail\"}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{on:{\"click\":_vm.emailVCode}},[_vm._v(\"获取验证码\")])],1)],1),_c('el-form-item',[_c('div',{staticClass:\"container\"},[_c('el-button',{staticClass:\"left\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.resetPsw}},[_vm._v(\"确认\")]),_c('el-button',{staticClass:\"right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")])],1)])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"loginBody\">\r\n        <el-form ref=\"loginForm\" :model=\"loginForm\" class=\"login-box\">\r\n\r\n            <h3 class=\"login-title\">欢迎登录</h3>\r\n\r\n            <!-- 账号输入框 -->\r\n            <el-form-item label=\"账号\" prop=\"username\" :rules=\"rules.username\">\r\n                <el-col :span=\"20\">\r\n                    <el-input type=\"text\" placeholder=\" 请输入账号\" v-model=\"loginForm.username\"\r\n                        @blur=\"validate('username')\" />\r\n                </el-col>\r\n            </el-form-item>\r\n\r\n            <!-- 密码输入框 -->\r\n            <el-form-item label=\"密码\" prop=\"password\" :rules=\"rules.password\">\r\n                <el-col :span=\"20\">\r\n                    <el-input type=\"password\" placeholder=\" 请输入密码\" v-model=\"loginForm.password\"\r\n                        @blur=\"validate('password')\" />\r\n                </el-col>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item label=\"验证码\" prop=\"vCode\" :rules=\"rules.vCode\">\r\n                <el-col :span=\"10\">\r\n                    <!-- 验证码输入框 -->\r\n                    <el-input type=\"text\" placeholder=\" 请输入验证码\" v-model=\"loginForm.vCode\" @blur=\"validate('vCode')\"\r\n                        size=\"small\" />\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                    <!-- 验证码显示图片 -->\r\n                    <el-image :src=\"vCodePic\" :fit=\"fit\" @click=\"loadVCode\"></el-image>\r\n                </el-col>\r\n\r\n            </el-form-item>\r\n\r\n            <br><br>\r\n\r\n            <!-- 操作按钮 -->\r\n            <el-form-item>\r\n                <div class=\"container\">\r\n                    <el-button class=\"left\" type=\"primary\" @click=\"login()\">立即登录</el-button>\r\n                    <el-button class=\"mid\" type=\"primary\" @click=\"dialogFormVisible = true\">忘记密码</el-button>\r\n                    <el-button class=\"right\" type=\"primary\" @click=\"goRegister()\">注册账号</el-button>\r\n                </div>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <div>\r\n            <!-- 忘记密码dialog -->\r\n            <el-dialog title=\"忘记密码\" :visible.sync=\"dialogFormVisible\" :modal=\"false\" class=\"resetPsw-box\">\r\n                <el-form ref=\"resetPswForm\" :model=\"resetPswForm\">\r\n                    <el-form-item label=\"账号\" prop=\"username\" :rules=\"rules2.username\">\r\n                        <el-input placeholder=\"请输入账号\" v-model=\"resetPswForm.username\" clearable=\"\"\r\n                            @blur=\"validate2('username')\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"新密码\" prop=\"password\" :rules=\"rules2.password\">\r\n                        <el-input placeholder=\"请输入密码\" v-model=\"resetPswForm.password\" show-password\r\n                            @blur=\"validate2('password')\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"确认密码\" prop=\"checkPsw\" :rules=\"rules2.checkPsw\">\r\n                        <el-input placeholder=\"请输入密码\" v-model=\"resetPswForm.checkPsw\" show-password\r\n                            @blur=\"validate2('checkPsw')\" />\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"验证码\" prop=\"vCode\" :rules=\"rules2.vCode\">\r\n                        <br>\r\n                        <el-col :span=\"14\">\r\n                            <el-input type=\"text\" placeholder=\" 请输入邮箱验证码\" v-model=\"resetPswForm.vCodeMail\"\r\n                                @blur=\"validate2('vCode')\" size=\"small\" />\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <el-button  @click=\"emailVCode\">获取验证码</el-button>\r\n                        </el-col>\r\n\r\n                    </el-form-item>\r\n\r\n                    <el-form-item>\r\n                        <div class=\"container\">\r\n                            <el-button class=\"left\" type=\"primary\" @click=\"resetPsw\">确认</el-button>\r\n                            <el-button class=\"right\" type=\"primary\" @click=\"dialogFormVisible = false\">取消</el-button>\r\n                        </div>\r\n\r\n                    </el-form-item>\r\n\r\n                </el-form>\r\n            </el-dialog>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\nimport service from '@/utils/request';\r\nexport default {\r\n    data() {\r\n        return {\r\n            loginForm: {\r\n                username: \"\",\r\n                password: \"\",\r\n                vCode: \"\"\r\n            },//登录用户信息\r\n            resetPswForm: {\r\n                username: \"\",\r\n                password: \"\",\r\n                checkPsw: \"\",\r\n                vCodeMail: \"\"\r\n            },//忘记密码用户信息\r\n            userForm: {\r\n                id: 0,\r\n                token: \"\",\r\n            },//用于接收用户的id等信息\r\n            //vCodePic: require(\"../assets/vCodePic.png\"),\r\n            dialogFormVisible: false,//忘记密码的表单的显示\r\n            flag: false, //用于判断账号密码是否正确\r\n            uuid: \"\",\r\n\r\n            rules: {\r\n                username: [{ validator: this.checkUsername, trigger: \"blur\" }],\r\n                password: [{ validator: this.checkPassword, trigger: \"blur\" }],\r\n                vCode: [{ validator: this.checkVCode, trigger: \"blue\" }]\r\n            },\r\n            rules2: {\r\n                username: [{ validator: this.checkUsername, trigger: \"blur\" }],\r\n                password: [{ validator: this.checkPassword, trigger: \"blur\" }],\r\n                checkPsw: [{ validator: this.checkNewPassword, trigger: \"blur\" }],\r\n                vCode: [{ validator: this.checkVCode, trigger: \"blue\" }]\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getUuid(); // 加载验证码\r\n    },\r\n    methods: {\r\n        getUuid() {\r\n            service.get(\"/login/uuid\").then((result) => {\r\n                if (result.data.code == 1) {\r\n                    this.uuid = result.data.data;\r\n                    this.loadVCode();\r\n                }else{\r\n                    alert(result.data.msg)\r\n                }\r\n            })\r\n        },\r\n        loadVCode() {\r\n            service.get('/vCode', {\r\n                params: { len: 4 }, // 如果需要传递参数\r\n                responseType: 'blob',// 设置响应类型为 blob，用于接收图片\r\n                //withCredentials: true // 允许携带 Cookie\r\n                headers: {\r\n                    \"Uuid\": this.uuid,\r\n                }\r\n            })\r\n                .then(response => {\r\n                    // 将 blob 数据转换为 URL 并赋值给 vCodePic\r\n                    this.vCodePic = URL.createObjectURL(new Blob([response.data], { type: response.headers['content-type'] }));\r\n                })\r\n                .catch(error => {\r\n                    console.error('获取验证码失败：', error);\r\n                });\r\n        },\r\n        emailVCode() {\r\n            service.get('/vCode/email', {\r\n                params: {\r\n                    len: 6,\r\n                    username: this.resetPswForm.username\r\n                },\r\n                headers: {\r\n                    \"Uuid\": this.uuid,\r\n                }\r\n            }).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    alert(\"获取邮箱验证码失败\");\r\n                }else{\r\n                    alert(result.data.msg)\r\n                }\r\n\r\n            });\r\n        },\r\n        checkUsername(rule, value, callback) {\r\n            //检查输入的账号是否为空\r\n            if (value == \"\") {\r\n                return callback(new Error(\"账号不能为空\"));\r\n            } else callback();\r\n        },\r\n\r\n        checkPassword(rule, value, callback) {\r\n            //检查输入的新密码是否为空\r\n            if (value == \"\") {\r\n                return callback(new Error(\"新密码不能为空\"));\r\n            } else callback();\r\n\r\n        },\r\n\r\n        checkVCode(rule, value, callback) {\r\n            //检查输入的验证码是否为空\r\n            if (value == \"\") {\r\n                return callback(new Error(\"验证码不能为空\"));\r\n            } else callback();\r\n        },\r\n        checkNewPassword(rule, value, callback) {\r\n            if (value == \"\") {\r\n                return callback(new Error(\"确认密码不能为空\"));\r\n            } else if (value != this.resetPswForm.password) {\r\n                return callback(new Error(\"两次密码必须一致\"));\r\n            } else callback();\r\n        },\r\n\r\n        validate(prop) {\r\n            this.$refs.loginForm.validateField(prop);\r\n        },\r\n        validate2(prop) {\r\n            this.$refs.resetPswForm.validateField(prop);\r\n        },\r\n        //登录\r\n        login() {\r\n            this.$refs.loginForm.validate((valid) => {\r\n                if (valid) {\r\n                    //判断登录类型\r\n                    service\r\n                        .get(\"/login/login\", {\r\n                            params: this.loginForm,\r\n                            headers: {\r\n                                \"Uuid\": this.uuid,\r\n                            }\r\n                            //withCredentials: true // 允许携带 Cookie\r\n                        })\r\n                        .then((result) => {\r\n                            if (result.data.code == 1) {\r\n                                this.userForm = result.data.data//接收登录用户数据\r\n                                localStorage.setItem('token', this.userForm.token)//保存token为全局变量\r\n                                this.$router.push(\"classes\");//路由到默认的班级管理界面\r\n\r\n                            } else {\r\n                                alert(\"登录失败\"+result.data.msg);\r\n                            }\r\n                            this.flag = 0;\r\n                        });\r\n\r\n                }\r\n            });\r\n        },\r\n        //忘记密码\r\n        resetPsw() {\r\n            this.$refs.resetPswForm.validate((valid) => {//合法判断\r\n                if (valid) {\r\n                    service\r\n                        .put(\"/login/resetPsw\",{\r\n                            params: this.resetPswForm,\r\n                            headers: {\r\n                                \"Uuid\": this.uuid,\r\n                            }\r\n                        })\r\n                        .then((result) => {\r\n                            this.flag = result.data.code; //修改密码是否成功\r\n                            if (this.flag == 1) {\r\n                                alert(this.flag)\r\n                                this.dialogFormVisible = false;//重新回到登录界面\r\n                            } else {\r\n                                alert(\"修改密码失败\"+result.data.msg);\r\n                            }\r\n                            this.flag = 0;\r\n                        });\r\n                }\r\n            });\r\n        },\r\n        goRegister() {\r\n            this.$router.push(\"register\");\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-box {\r\n    border: 1px solid #dcdfe6;\r\n    width: 350px;\r\n    margin: 50px auto;\r\n    padding: 35px 35px 15px 35px;\r\n    border-radius: 5px;\r\n    -webkit-border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    box-shadow: 0 0 25px #909399;\r\n    background-color: white;\r\n}\r\n\r\n.resetPsw-box {\r\n    width: 1000px;\r\n    margin: 40px auto;\r\n    padding: 35px 35px 15px 35px;\r\n\r\n}\r\n\r\n.login-title {\r\n    text-align: center;\r\n    margin: 0 auto 40px auto;\r\n    color: #303133;\r\n}\r\n\r\n.container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n\r\n}\r\n\r\n.left {\r\n    align-items: center\r\n}\r\n\r\n.mid {\r\n    align-items: center\r\n}\r\n\r\n.right {\r\n    align-items: center\r\n}\r\n\r\n.loginBody {\r\n    width: 100%;\r\n    height: 100%;\r\n    min-width: 1000px;\r\n    background-image: url(\"../assets/SummerAmbience.png\");\r\n    background-color: #606266;\r\n    background-size: 100% 100%;\r\n    background-position: center center;\r\n    overflow: auto;\r\n    background-repeat: no-repeat;\r\n    position: fixed;\r\n    line-height: 100%;\r\n    padding-top: 150px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=1bd97564&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=1bd97564&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bd97564\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","loginForm","_v","rules","username","on","$event","validate","model","value","callback","$$v","$set","expression","password","vCode","vCodePic","fit","loadVCode","login","dialogFormVisible","goRegister","resetPswForm","rules2","validate2","checkPsw","vCodeMail","emailVCode","resetPsw","staticRenderFns","data","userForm","id","token","flag","uuid","validator","checkUsername","trigger","checkPassword","checkVCode","checkNewPassword","mounted","getUuid","methods","service","get","then","result","code","alert","msg","params","len","responseType","headers","response","URL","createObjectURL","Blob","type","catch","error","console","rule","Error","prop","$refs","validateField","valid","localStorage","setItem","$router","push","put","component"],"sourceRoot":""}